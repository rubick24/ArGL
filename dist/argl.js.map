{"version":3,"sources":["webpack://ArGL/webpack/universalModuleDefinition","webpack://ArGL/webpack/bootstrap","webpack://ArGL/./node_modules/webgl-obj-loader/dist/webgl-obj-loader.min.js","webpack://ArGL/./src/FBHelper.js","webpack://ArGL/./src/argl.js","webpack://ArGL/./src/camera/camera.js","webpack://ArGL/./src/camera/free-move-camrea.js","webpack://ArGL/./src/camera/orbit-camera.js","webpack://ArGL/./src/index.js","webpack://ArGL/./src/input.js","webpack://ArGL/./src/shader.js","webpack://ArGL/./src/util.js","webpack://ArGL/external {\"root\":\"window\",\"commonjs\":\"gl-matrix\",\"commonjs2\":\"gl-matrix\",\"amd\":\"gl-matrix\"}","webpack://ArGL/external {\"root\":\"Hammer\",\"commonjs\":\"hammerjs\",\"commonjs2\":\"hammerjs\",\"amd\":\"hammerjs\"}"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACtGgC;AACC;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,uBAAuB;AAChF;AACA;AACA;AACA,sDAAsD,4BAA4B;AAClF;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,WAAW,iCAAiC;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc;AACd,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;AC9L2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;AC5DA;;AAEe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;;;;;ACpFA;AACqB;;AAErB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5EA;AACA;AACA;AACA;AACA;;AAEA;;AAEQ;AACR;;;;;;;;;;;;;;;;;ACTA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,YAAY;AACZ;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAA+B,mFAAiD;AAChF,mEAAiC,eAAe;;AAEhD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;AAEL,YAAY;AACZ;;AAEA;;;;;;;;;;;;;;;;ACzHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AClEA;AACA;AACA,iBAAiB,w7DAAw7D,EAAE;AAC38D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACtFA,uD;;;;;;;;;;;ACAA,sD","file":"argl.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"gl-matrix\"), require(\"hammerjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"gl-matrix\", \"hammerjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ArGL\"] = factory(require(\"gl-matrix\"), require(\"hammerjs\"));\n\telse\n\t\troot[\"ArGL\"] = factory(root[\"window\"], root[\"Hammer\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_gl_matrix__, __WEBPACK_EXTERNAL_MODULE_hammerjs__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(\"OBJ\",[],t):\"object\"==typeof exports?exports.OBJ=t():e.OBJ=t()}(\"undefined\"!=typeof self?self:this,function(){return function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(exports,e,r){t.o(exports,e)||Object.defineProperty(exports,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"/\",t(t.s=3)}([function(e,exports,t){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e){switch(e){case\"BYTE\":case\"UNSIGNED_BYTE\":return 1;case\"SHORT\":case\"UNSIGNED_SHORT\":return 2;case\"FLOAT\":return 4}}Object.defineProperty(exports,\"__esModule\",{value:!0});var n=exports.Layout=function e(){r(this,e);for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];this.attributes=a;var s=0,l=0,o=!0,u=!1,c=void 0;try{for(var f,h=a[Symbol.iterator]();!(o=(f=h.next()).done);o=!0){var p=f.value;if(this[p.key])throw new i(p);s%p.sizeOfType!=0&&(s+=p.sizeOfType-s%p.sizeOfType),this[p.key]={attribute:p,size:p.size,type:p.type,normalized:p.normalized,offset:s},s+=p.sizeInBytes,l=Math.max(l,p.sizeOfType)}}catch(e){u=!0,c=e}finally{try{!o&&h.return&&h.return()}finally{if(u)throw c}}s%l!=0&&(s+=l-s%l),this.stride=s;var v=!0,d=!1,y=void 0;try{for(var m,M=a[Symbol.iterator]();!(v=(m=M.next()).done);v=!0){this[m.value.key].stride=this.stride}}catch(e){d=!0,y=e}finally{try{!v&&M.return&&M.return()}finally{if(d)throw y}}},i=function e(t){r(this,e),this.message=\"found duplicate attribute: \"+t.key},s=function e(t,n,i){arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,e),this.key=t,this.size=n,this.type=i,this.normalized=!1,this.sizeOfType=a(i),this.sizeInBytes=this.sizeOfType*n};n.POSITION=new s(\"position\",3,\"FLOAT\"),n.NORMAL=new s(\"normal\",3,\"FLOAT\"),n.TANGENT=new s(\"tangent\",3,\"FLOAT\"),n.BITANGENT=new s(\"bitangent\",3,\"FLOAT\"),n.UV=new s(\"uv\",2,\"FLOAT\"),n.MATERIAL_INDEX=new s(\"materialIndex\",1,\"SHORT\"),n.MATERIAL_ENABLED=new s(\"materialEnabled\",1,\"UNSIGNED_SHORT\"),n.AMBIENT=new s(\"ambient\",3,\"FLOAT\"),n.DIFFUSE=new s(\"diffuse\",3,\"FLOAT\"),n.SPECULAR=new s(\"specular\",3,\"FLOAT\"),n.SPECULAR_EXPONENT=new s(\"specularExponent\",3,\"FLOAT\"),n.EMISSIVE=new s(\"emissive\",3,\"FLOAT\"),n.TRANSMISSION_FILTER=new s(\"transmissionFilter\",3,\"FLOAT\"),n.DISSOLVE=new s(\"dissolve\",1,\"FLOAT\"),n.ILLUMINATION=new s(\"illumination\",1,\"UNSIGNED_SHORT\"),n.REFRACTION_INDEX=new s(\"refractionIndex\",1,\"FLOAT\"),n.SHARPNESS=new s(\"sharpness\",1,\"FLOAT\"),n.MAP_DIFFUSE=new s(\"mapDiffuse\",1,\"SHORT\"),n.MAP_AMBIENT=new s(\"mapAmbient\",1,\"SHORT\"),n.MAP_SPECULAR=new s(\"mapSpecular\",1,\"SHORT\"),n.MAP_SPECULAR_EXPONENT=new s(\"mapSpecularExponent\",1,\"SHORT\"),n.MAP_DISSOLVE=new s(\"mapDissolve\",1,\"SHORT\"),n.ANTI_ALIASING=new s(\"antiAliasing\",1,\"UNSIGNED_SHORT\"),n.MAP_BUMP=new s(\"mapBump\",1,\"SHORT\"),n.MAP_DISPLACEMENT=new s(\"mapDisplacement\",1,\"SHORT\"),n.MAP_DECAL=new s(\"mapDecal\",1,\"SHORT\"),n.MAP_EMISSIVE=new s(\"mapEmissive\",1,\"SHORT\")},function(e,exports,t){\"use strict\";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=t(0),s=function(){function e(t,n){a(this,e),n=n||{},n.materials=n.materials||{},n.enableWTextureCoord=!!n.enableWTextureCoord,n.indicesPerMaterial=!!n.indicesPerMaterial;var i=this;i.vertices=[],i.vertexNormals=[],i.textures=[],i.indices=[],i.textureStride=n.enableWTextureCoord?3:2,this.name=\"\";var s=[],l=[],o=[],u={},c=[],f={},h=-1,p=0;u.verts=[],u.norms=[],u.textures=[],u.hashindices={},u.indices=[[]],u.materialIndices=[],u.index=0;for(var v=/^v\\s/,d=/^vn\\s/,y=/^vt\\s/,m=/^f\\s/,M=/\\s+/,b=/^usemtl/,x=t.split(\"\\n\"),I=0;I<x.length;I++){var A=x[I].trim();if(A&&!A.startsWith(\"#\")){var _=A.split(M);if(_.shift(),v.test(A))s.push.apply(s,r(_));else if(d.test(A))l.push.apply(l,r(_));else if(y.test(A)){var k=_;_.length>2&&!n.enableWTextureCoord?k=_.slice(0,2):2===_.length&&n.enableWTextureCoord&&k.push(0),o.push.apply(o,r(k))}else if(b.test(A)){var T=_[0];T in f||(c.push(T),f[T]=c.length-1,n.indicesPerMaterial&&f[T]>0&&u.indices.push([])),h=f[T],n.indicesPerMaterial&&(p=h)}else if(m.test(A))for(var w=!1,F=0,S=_.length;F<S;F++){3!==F||w||(F=2,w=!0);var E=_[0]+\",\"+h,g=_[F]+\",\"+h;if(g in u.hashindices)u.indices[p].push(u.hashindices[g]);else{var O=_[F].split(\"/\"),B=O.length-1;if(u.verts.push(+s[3*(O[0]-1)+0]),u.verts.push(+s[3*(O[0]-1)+1]),u.verts.push(+s[3*(O[0]-1)+2]),o.length){var L=n.enableWTextureCoord?3:2;u.textures.push(+o[(O[1]-1)*L+0]),u.textures.push(+o[(O[1]-1)*L+1]),n.enableWTextureCoord&&u.textures.push(+o[(O[1]-1)*L+2])}u.norms.push(+l[3*(O[B]-1)+0]),u.norms.push(+l[3*(O[B]-1)+1]),u.norms.push(+l[3*(O[B]-1)+2]),u.materialIndices.push(h),u.hashindices[g]=u.index,u.indices[p].push(u.hashindices[g]),u.index+=1}3===F&&w&&u.indices[p].push(u.hashindices[E])}}}i.vertices=u.verts,i.vertexNormals=u.norms,i.textures=u.textures,i.vertexMaterialIndices=u.materialIndices,i.indices=n.indicesPerMaterial?u.indices:u.indices[p],i.materialNames=c,i.materialIndices=f,i.materialsByIndex={},n.calcTangentsAndBitangents&&this.calculateTangentsAndBitangents()}return n(e,[{key:\"calculateTangentsAndBitangents\",value:function(){var e={};e.tangents=[].concat(r(new Array(this.vertices.length))).map(function(e){return 0}),e.bitangents=[].concat(r(new Array(this.vertices.length))).map(function(e){return 0});var t=void 0;t=Array.isArray(this.indices[0])?[].concat.apply([],this.indices):this.indices;for(var a=this.vertices,n=this.vertexNormals,i=this.textures,s=0;s<t.length;s+=3){var l=t[s+0],o=t[s+1],u=t[s+2],c=a[3*l+0],f=a[3*l+1],h=a[3*l+2],p=i[2*l+0],v=i[2*l+1],d=a[3*o+0],y=a[3*o+1],m=a[3*o+2],M=i[2*o+0],b=i[2*o+1],x=a[3*u+0],I=a[3*u+1],A=a[3*u+2],_=i[2*u+0],k=i[2*u+1],T=d-c,w=y-f,F=m-h,S=x-c,E=I-f,g=A-h,O=M-p,B=b-v,L=_-p,N=k-v,R=O*N-B*L,P=1/(Math.abs(R<1e-4)?1:R),D=(T*N-S*B)*P,C=(w*N-E*B)*P,U=(F*N-g*B)*P,j=(S*O-T*L)*P,z=(E*O-w*L)*P,H=(g*O-F*L)*P,W=n[3*l+0],G=n[3*l+1],V=n[3*l+2],K=n[3*o+0],q=n[3*o+1],X=n[3*o+2],Y=n[3*u+0],J=n[3*u+1],Q=n[3*u+2],Z=D*W+C*G+U*V,ee=D*K+C*q+U*X,te=D*Y+C*J+U*Q,re=D-W*Z,ae=C-G*Z,ne=U-V*Z,ie=D-K*ee,se=C-q*ee,le=U-X*ee,oe=D-Y*te,ue=C-J*te,ce=U-Q*te,fe=Math.sqrt(re*re+ae*ae+ne*ne),he=Math.sqrt(ie*ie+se*se+le*le),pe=Math.sqrt(oe*oe+ue*ue+ce*ce),ve=j*W+z*G+H*V,de=j*K+z*q+H*X,ye=j*Y+z*J+H*Q,me=j-W*ve,Me=z-G*ve,be=H-V*ve,xe=j-K*de,Ie=z-q*de,Ae=H-X*de,_e=j-Y*ye,ke=z-J*ye,Te=H-Q*ye,we=Math.sqrt(me*me+Me*Me+be*be),Fe=Math.sqrt(xe*xe+Ie*Ie+Ae*Ae),Se=Math.sqrt(_e*_e+ke*ke+Te*Te);e.tangents[3*l+0]+=re/fe,e.tangents[3*l+1]+=ae/fe,e.tangents[3*l+2]+=ne/fe,e.tangents[3*o+0]+=ie/he,e.tangents[3*o+1]+=se/he,e.tangents[3*o+2]+=le/he,e.tangents[3*u+0]+=oe/pe,e.tangents[3*u+1]+=ue/pe,e.tangents[3*u+2]+=ce/pe,e.bitangents[3*l+0]+=me/we,e.bitangents[3*l+1]+=Me/we,e.bitangents[3*l+2]+=be/we,e.bitangents[3*o+0]+=xe/Fe,e.bitangents[3*o+1]+=Ie/Fe,e.bitangents[3*o+2]+=Ae/Fe,e.bitangents[3*u+0]+=_e/Se,e.bitangents[3*u+1]+=ke/Se,e.bitangents[3*u+2]+=Te/Se}this.tangents=e.tangents,this.bitangents=e.bitangents}},{key:\"makeBufferData\",value:function(e){var t=this.vertices.length/3,r=new ArrayBuffer(e.stride*t);r.numItems=t;for(var a=new DataView(r),n=0,s=0;n<t;n++){s=n*e.stride;var l=!0,o=!1,u=void 0;try{for(var c,f=e.attributes[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var h=c.value,p=s+e[h.key].offset;switch(h.key){case i.Layout.POSITION.key:a.setFloat32(p,this.vertices[3*n],!0),a.setFloat32(p+4,this.vertices[3*n+1],!0),a.setFloat32(p+8,this.vertices[3*n+2],!0);break;case i.Layout.UV.key:a.setFloat32(p,this.textures[2*n],!0),a.setFloat32(p+4,this.vertices[2*n+1],!0);break;case i.Layout.NORMAL.key:a.setFloat32(p,this.vertexNormals[3*n],!0),a.setFloat32(p+4,this.vertexNormals[3*n+1],!0),a.setFloat32(p+8,this.vertexNormals[3*n+2],!0);break;case i.Layout.MATERIAL_INDEX.key:a.setInt16(p,this.vertexMaterialIndices[n],!0);break;case i.Layout.AMBIENT.key:var v=this.vertexMaterialIndices[n],d=this.materialsByIndex[v];if(!d)break;a.setFloat32(p,d.ambient[0],!0),a.setFloat32(p+4,d.ambient[1],!0),a.setFloat32(p+8,d.ambient[2],!0);break;case i.Layout.DIFFUSE.key:var y=this.vertexMaterialIndices[n],m=this.materialsByIndex[y];if(!m)break;a.setFloat32(p,m.diffuse[0],!0),a.setFloat32(p+4,m.diffuse[1],!0),a.setFloat32(p+8,m.diffuse[2],!0);break;case i.Layout.SPECULAR.key:var M=this.vertexMaterialIndices[n],b=this.materialsByIndex[M];if(!b)break;a.setFloat32(p,b.specular[0],!0),a.setFloat32(p+4,b.specular[1],!0),a.setFloat32(p+8,b.specular[2],!0);break;case i.Layout.SPECULAR_EXPONENT.key:var x=this.vertexMaterialIndices[n],I=this.materialsByIndex[x];if(!I)break;a.setFloat32(p,I.specularExponent,!0);break;case i.Layout.EMISSIVE.key:var A=this.vertexMaterialIndices[n],_=this.materialsByIndex[A];if(!_)break;a.setFloat32(p,_.emissive[0],!0),a.setFloat32(p+4,_.emissive[1],!0),a.setFloat32(p+8,_.emissive[2],!0);break;case i.Layout.TRANSMISSION_FILTER.key:var k=this.vertexMaterialIndices[n],T=this.materialsByIndex[k];if(!T)break;a.setFloat32(p,T.transmissionFilter[0],!0),a.setFloat32(p+4,T.transmissionFilter[1],!0),a.setFloat32(p+8,T.transmissionFilter[2],!0);break;case i.Layout.DISSOLVE.key:var w=this.vertexMaterialIndices[n],F=this.materialsByIndex[w];if(!F)break;a.setFloat32(p,F.dissolve,!0);break;case i.Layout.ILLUMINATION.key:var S=this.vertexMaterialIndices[n],E=this.materialsByIndex[S];if(!E)break;a.setInt16(p,E.illumination,!0);break;case i.Layout.REFRACTION_INDEX.key:var g=this.vertexMaterialIndices[n],O=this.materialsByIndex[g];if(!O)break;a.setFloat32(p,O.refractionIndex,!0);break;case i.Layout.SHARPNESS.key:var B=this.vertexMaterialIndices[n],L=this.materialsByIndex[B];if(!L)break;a.setFloat32(p,L.sharpness,!0);break;case i.Layout.ANTI_ALIASING.key:var N=this.vertexMaterialIndices[n],R=this.materialsByIndex[N];if(!R)break;a.setInt16(p,R.antiAliasing,!0)}}}catch(e){o=!0,u=e}finally{try{!l&&f.return&&f.return()}finally{if(o)throw u}}}return r}},{key:\"makeIndexBufferData\",value:function(){var e=new Uint16Array(this.indices);return e.numItems=this.indices.length,e}},{key:\"addMaterialLibrary\",value:function(e){for(var t in e.materials)if(t in this.materialIndices){var r=e.materials[t],a=this.materialIndices[r.name];this.materialsByIndex[a]=r}}}]),e}();exports.default=s},function(e,exports,t){\"use strict\";function r(e){return Array.isArray(e)?e:Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(exports,\"__esModule\",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=exports.Material=function e(t){a(this,e),this.name=t,this.ambient=[0,0,0],this.diffuse=[0,0,0],this.specular=[0,0,0],this.emissive=[0,0,0],this.transmissionFilter=[0,0,0],this.dissolve=0,this.specularExponent=0,this.transparency=0,this.illumination=0,this.refractionIndex=1,this.sharpness=0,this.mapDiffuse=null,this.mapAmbient=null,this.mapSpecular=null,this.mapSpecularExponent=null,this.mapDissolve=null,this.antiAliasing=!1,this.mapBump=null,this.mapDisplacement=null,this.mapDecal=null,this.mapEmissive=null,this.mapReflections=[]};exports.MaterialLibrary=function(){function e(t){a(this,e),this.data=t,this.currentMaterial=null,this.materials={},this.parse()}return n(e,[{key:\"parse_newmtl\",value:function(e){var t=e[0];this.currentMaterial=new i(t),this.materials[t]=this.currentMaterial}},{key:\"parseColor\",value:function(e){if(\"spectral\"!=e[0]&&\"xyz\"!=e[0]){if(3==e.length)return e.map(parseFloat);var t=parseFloat(e[0]);return[t,t,t]}}},{key:\"parse_Ka\",value:function(e){this.currentMaterial.ambient=this.parseColor(e)}},{key:\"parse_Kd\",value:function(e){this.currentMaterial.diffuse=this.parseColor(e)}},{key:\"parse_Ks\",value:function(e){this.currentMaterial.specular=this.parseColor(e)}},{key:\"parse_Ke\",value:function(e){this.currentMaterial.emissive=this.parseColor(e)}},{key:\"parse_Tf\",value:function(e){this.currentMaterial.transmissionFilter=this.parseColor(e)}},{key:\"parse_d\",value:function(e){this.currentMaterial.dissolve=parseFloat(e.pop())}},{key:\"parse_illum\",value:function(e){this.currentMaterial.illumination=parseInt(e[0])}},{key:\"parse_Ni\",value:function(e){this.currentMaterial.refractionIndex=parseFloat(e[0])}},{key:\"parse_Ns\",value:function(e){this.currentMaterial.specularExponent=parseInt(e[0])}},{key:\"parse_sharpness\",value:function(e){this.currentMaterial.sharpness=parseInt(e[0])}},{key:\"parse_cc\",value:function(e,t){t.colorCorrection=\"on\"==e[0]}},{key:\"parse_blendu\",value:function(e,t){t.horizontalBlending=\"on\"==e[0]}},{key:\"parse_blendv\",value:function(e,t){t.verticalBlending=\"on\"==e[0]}},{key:\"parse_boost\",value:function(e,t){t.boostMipMapSharpness=parseFloat(e[0])}},{key:\"parse_mm\",value:function(e,t){t.modifyTextureMap.brightness=parseFloat(e[0]),t.modifyTextureMap.contrast=parseFloat(e[1])}},{key:\"parse_ost\",value:function(e,t,r){for(;e.length<3;)e.push(r);t.u=parseFloat(e[0]),t.v=parseFloat(e[1]),t.w=parseFloat(e[2])}},{key:\"parse_o\",value:function(e,t){this.parse_ost(e,t.offset,0)}},{key:\"parse_s\",value:function(e,t){this.parse_ost(e,t.scale,1)}},{key:\"parse_t\",value:function(e,t){this.parse_ost(e,t.turbulence,0)}},{key:\"parse_texres\",value:function(e,t){t.textureResolution=parseFloat(e[0])}},{key:\"parse_clamp\",value:function(e,t){t.clamp=\"on\"==e[0]}},{key:\"parse_bm\",value:function(e,t){t.bumpMultiplier=parseFloat(e[0])}},{key:\"parse_imfchan\",value:function(e,t){t.imfChan=e[0]}},{key:\"parse_type\",value:function(e,t){t.reflectionType=e[0]}},{key:\"parseOptions\",value:function(e){var t={colorCorrection:!1,horizontalBlending:!0,verticalBlending:!0,boostMipMapSharpness:0,modifyTextureMap:{brightness:0,contrast:1},offset:{u:0,v:0,w:0},scale:{u:1,v:1,w:1},turbulence:{u:0,v:0,w:0},clamp:!1,textureResolution:null,bumpMultiplier:1,imfChan:null},r=void 0,a=void 0,n={};for(e.reverse();e.length;){var i=e.pop();i.startsWith(\"-\")?(r=i.substr(1),n[r]=[]):n[r].push(i)}for(r in n)if(n.hasOwnProperty(r)){a=n[r];var s=this[\"parse_\"+r];s&&s.bind(this)(a,t)}return t}},{key:\"parseMap\",value:function(e){var t=void 0,a=void 0;if(e[0].startsWith(\"-\"))t=e.pop(),a=e;else{var n=r(e);t=n[0],a=n.slice(1)}return a=this.parseOptions(a),a.filename=t,a}},{key:\"parse_map_Ka\",value:function(e){this.currentMaterial.mapAmbient=this.parseMap(e)}},{key:\"parse_map_Kd\",value:function(e){this.currentMaterial.mapDiffuse=this.parseMap(e)}},{key:\"parse_map_Ks\",value:function(e){this.currentMaterial.mapSpecular=this.parseMap(e)}},{key:\"parse_map_Ke\",value:function(e){this.currentMaterial.mapEmissive=this.parseMap(e)}},{key:\"parse_map_Ns\",value:function(e){this.currentMaterial.mapSpecularExponent=this.parseMap(e)}},{key:\"parse_map_d\",value:function(e){this.currentMaterial.mapDissolve=this.parseMap(e)}},{key:\"parse_map_aat\",value:function(e){this.currentMaterial.antiAliasing=\"on\"==e[0]}},{key:\"parse_map_bump\",value:function(e){this.currentMaterial.mapBump=this.parseMap(e)}},{key:\"parse_bump\",value:function(e){this.parse_map_bump(e)}},{key:\"parse_disp\",value:function(e){this.currentMaterial.mapDisplacement=this.parseMap(e)}},{key:\"parse_decal\",value:function(e){this.currentMaterial.mapDecal=this.parseMap(e)}},{key:\"parse_refl\",value:function(e){this.currentMaterial.mapReflections.push(this.parseMap(e))}},{key:\"parse\",value:function(){var e=this.data.split(/\\r?\\n/),t=!0,a=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(t=(i=s.next()).done);t=!0){var l=i.value;if((l=l.trim())&&!l.startsWith(\"#\")){var o=l.split(/\\s/),u=void 0,c=o,f=r(c);u=f[0],o=f.slice(1);var h=this[\"parse_\"+u];h&&h.bind(this)(o)}}}catch(e){a=!0,n=e}finally{try{!t&&s.return&&s.return()}finally{if(a)throw n}}delete this.data,this.currentMaterial=null}}]),e}()},function(e,exports,t){e.exports=t(4)},function(e,exports,t){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.version=exports.deleteMeshBuffers=exports.initMeshBuffers=exports.downloadMeshes=exports.downloadModels=exports.Layout=exports.MaterialLibrary=exports.Material=exports.Mesh=void 0;var r=t(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),n=t(2),i=t(0),s=t(5);exports.Mesh=a.default,exports.Material=n.Material,exports.MaterialLibrary=n.MaterialLibrary,exports.Layout=i.Layout,exports.downloadModels=s.downloadModels,exports.downloadMeshes=s.downloadMeshes,exports.initMeshBuffers=s.initMeshBuffers,exports.deleteMeshBuffers=s.deleteMeshBuffers,exports.version=\"1.1.3\"},function(e,exports,t){\"use strict\";function r(e,t){var r=[\"mapDiffuse\",\"mapAmbient\",\"mapSpecular\",\"mapDissolve\",\"mapBump\",\"mapDisplacement\",\"mapDecal\",\"mapEmissive\"];t.endsWith(\"/\")||(t+=\"/\");var a=[];for(var n in e.materials)if(e.materials.hasOwnProperty(n)){n=e.materials[n];var i=!0,s=!1,l=void 0;try{for(var o,u=r[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var c=o.value;(function(e){var r=n[e];if(!r)return\"continue\";var i=t+r.filename;a.push(fetch(i).then(function(e){if(!e.ok)throw new Error;return e.blob()}).then(function(e){var t=new Image;return t.src=URL.createObjectURL(e),r.texture=t,new Promise(function(e){return t.onload=e})}).catch(function(){}))})(c)}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}}return Promise.all(a)}function a(e){var t=[],a=!0,n=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var f=s.value;!function(e){var a=[];if(!e.obj)throw new Error('\"obj\" attribute of model object not set. The .obj file is required to be set in order to use downloadModels()');var n={};n.indicesPerMaterial=!!e.indicesPerMaterial,n.calcTangentsAndBitangents=!!e.calcTangentsAndBitangents;var i=e.name;if(!i){var s=e.obj.split(\"/\");i=s[s.length-1].replace(\".obj\",\"\")}if(a.push(Promise.resolve(i)),a.push(fetch(e.obj).then(function(e){return e.text()}).then(function(e){return new u.default(e,n)})),e.mtl){var l=e.mtl;\"boolean\"==typeof l&&(l=e.obj.replace(/\\.obj$/,\".mtl\")),a.push(fetch(l).then(function(e){return e.text()}).then(function(t){var a=new c.MaterialLibrary(t);if(!1!==e.downloadMtlTextures){var n=e.mtlTextureRoot;return n||(n=l.substr(0,l.lastIndexOf(\"/\"))),Promise.all([Promise.resolve(a),r(a,n)])}return Promise.all(Promise.resolve(a))}).then(function(e){return e[0]}))}t.push(Promise.all(a))}(f)}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}return Promise.all(t).then(function(e){var t={},r=!0,a=!1,n=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value,u=l(o,3),c=u[0],f=u[1],h=u[2];f.name=c,h&&f.addMaterialLibrary(h),t[c]=f}}catch(e){a=!0,n=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw n}}return t})}function n(e,t,r){void 0===r&&(r={});var a=[];for(var n in e){(function(t){if(!e.hasOwnProperty(t))return\"continue\";var r=e[t];a.push(fetch(r).then(function(e){return e.text()}).then(function(e){return[t,new u.default(e)]}))})(n)}Promise.all(a).then(function(e){var a=!0,n=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var u=s.value,c=l(u,2),f=c[0],h=c[1];r[f]=h}}catch(e){n=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw i}}return t(r)})}function i(e,t){t.normalBuffer=f(e,e.ARRAY_BUFFER,t.vertexNormals,3),t.textureBuffer=f(e,e.ARRAY_BUFFER,t.textures,t.textureStride),t.vertexBuffer=f(e,e.ARRAY_BUFFER,t.vertices,3),t.indexBuffer=f(e,e.ELEMENT_ARRAY_BUFFER,t.indices,1)}function s(e,t){e.deleteBuffer(t.normalBuffer),e.deleteBuffer(t.textureBuffer),e.deleteBuffer(t.vertexBuffer),e.deleteBuffer(t.indexBuffer)}Object.defineProperty(exports,\"__esModule\",{value:!0});var l=function(){function e(e,t){var r=[],a=!0,n=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);a=!0);}catch(e){n=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}();exports.downloadModels=a,exports.downloadMeshes=n,exports.initMeshBuffers=i,exports.deleteMeshBuffers=s;var o=t(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o),c=t(2),f=(t(0),function(e,t,r,a){var n=e.createBuffer(),i=t===e.ARRAY_BUFFER?Float32Array:Uint16Array;return e.bindBuffer(t,n),e.bufferData(t,new i(r),e.STATIC_DRAW),n.itemSize=a,n.numItems=r.length/a,n})}])});","import Shader from './shader'\n\nexport default function FBhelper(Argl) {\n  const quadVertices = [\n    // positions   // texture Coords\n    -1.0, 1.0, 0.0, 0.0, 1.0,\n    -1.0, -1.0, 0.0, 0.0, 0.0,\n    1.0, 1.0, 0.0, 1.0, 1.0,\n    1.0, -1.0, 0.0, 1.0, 0.0,\n  ]\n\n\n  const fbvs = `#version 300 es\n\n  layout (location = 0) in vec3 a_position;\n  layout (location = 1) in vec2 a_texCoord;\n\n  out vec2 TexCoord;\n\n  void main()\n  {\n      TexCoord = a_texCoord;\n      gl_Position = vec4(a_position, 1.0);\n  }\n  `\n\n  const fbfs = `#version 300 es\n\n  precision mediump float;\n\n  out vec4 FragColor;\n  in vec2 TexCoord;\n\n  uniform sampler2D scene;\n\n  void main()\n  {\n    FragColor = texture(scene, TexCoord);\n  }\n  `\n  const depthFS = `#version 300 es\n\n  precision mediump float;\n\n  out vec4 FragColor;\n  in vec2 TexCoord;\n\n  uniform sampler2D depthMap;\n\n  void main()\n  {\n    float depthValue = texture(depthMap, TexCoord).r;\n    FragColor = vec4(vec3(depthValue), 1.0);\n  }\n  `\n\n  Argl.prototype.drawQuad = function (textures) {\n    // self.gl.bindVertexArray(null)\n    if (this.quadVAO === undefined) {\n      this.quadVAO = this.gl.createVertexArray()\n      let quadVBO = this.gl.createBuffer()\n      this.gl.bindVertexArray(this.quadVAO)\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, quadVBO)\n      this.gl.bufferData(this.gl.ARRAY_BUFFER, new Float32Array(quadVertices), this.gl.const_DRAW)\n      this.gl.enableVertexAttribArray(0)\n      this.gl.vertexAttribPointer(0, 3, this.gl.FLOAT, true, 20, 0)\n      this.gl.enableVertexAttribArray(1)\n      this.gl.vertexAttribPointer(1, 2, this.gl.FLOAT, true, 20, 12)\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null)\n      this.gl.bindVertexArray(null)\n    }\n    this.gl.bindVertexArray(this.quadVAO)\n    if (textures.length === 1) {\n      this.gl.bindTexture(this.gl.TEXTURE_2D, textures[0])\n    } else {\n      for (let i in textures) {\n        this.gl.activeTexture(this.gl.TEXTURE0 + Number(i))\n        this.gl.bindTexture(this.gl.TEXTURE_2D, textures[i])\n      }\n    }\n\n    this.gl.drawArrays(this.gl.TRIANGLE_STRIP, 0, 4)\n    this.gl.bindVertexArray(null)\n  }\n\n  Argl.prototype.drawFB = function (texture) {\n    if (this.fbShader === undefined) {\n      this.fbShader = new Shader(this.gl, fbvs, fbfs)\n    }\n    this.fbShader.use()\n    this.fbShader.setInt('scene', 0)\n    this.drawQuad([texture])\n  }\n\n  Argl.prototype.drawDepth = function (texture) {\n    if (this.fbShader === undefined) {\n      this.fbShader = new Shader(this.gl, fbvs, depthFS)\n    }\n    this.fbShader.use()\n    this.fbShader.setInt('depthMap', 0)\n    this.drawQuad([texture])\n  }\n}\n","import { Mesh, initMeshBuffers } from 'webgl-obj-loader'\nimport { mobilecheck, loadImage } from './util'\nimport Input from './input'\nimport FBHelper from './FBHelper'\n\nconst defaultOptions = {\n  desktopInput: true,\n  touchInput: true\n}\n\nclass ArGL {\n  constructor(canvas, options) {\n    if (options) {\n      this.options = Object.assign(defaultOptions, options)\n    } else {\n      this.options = defaultOptions\n    }\n\n\n    this.canvas = canvas\n\n    this.loadProgress = 0\n\n    this.resource = {\n      images: []\n    }\n    this.resourceCount = 0\n    this._loadProgresses = []\n    let self = this\n    this.loadProgresses = new Proxy(this._loadProgresses, {\n      set: function (target, key, value, receiver) {\n        let sum = self._loadProgresses.reduce((p, v) => { return p + Number(v) }, 0)\n        // console.log('progress: ' + Math.round(sum / self.resourceCount) + '%')\n        if (self.resourceCount !== 0 && self.loadProgress !== sum / self.resourceCount) {\n          self.loadProgress = sum / self.resourceCount\n          let Progress = new CustomEvent('progress', { detail: self.loadProgress })\n          self.canvas.dispatchEvent(Progress)\n        }\n        return Reflect.set(target, key, value, receiver)\n      }\n    })\n\n\n    this.gl = this.canvas.getContext('webgl2')\n    if (!this.gl) {\n      console.error('Unable to initialize WebGL2. Your browser or machine may not support it.')\n      return null\n    }\n\n    this.deltaTime = 0\n    this.lastFrame = 0\n\n    if (mobilecheck()) {\n      this.mobile = true\n    } else {\n      this.mobile = false\n    }\n\n    if (this.options.desktopInput) {\n      let dio = { lockPointer: true }\n      if (typeof this.options.desktopInput !== 'boolean') {\n        dio = this.options.desktopInput\n      }\n      let {currentlyPressedKeys, mouseInput} = ArGL.desktopInput(this.canvas, dio)\n      this.currentlyPressedKeys = currentlyPressedKeys\n      this.mouseInput = mouseInput\n    }\n\n    if (this.options.touchInput) {\n      this.touchInput = ArGL.touchInput(this.canvas)\n    }\n  }\n\n  resize() {\n    let displayWidth = this.canvas.clientWidth\n    let displayHeight = this.canvas.clientHeight\n\n    if (this.canvas.width != displayWidth ||\n      this.canvas.height != displayHeight) {\n\n      this.canvas.width = displayWidth\n      this.canvas.height = displayHeight\n    }\n\n    this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height)\n  }\n\n  draw(time) { }\n  started() { }\n\n  render(time) {\n    this.deltaTime = time - this.lastFrame\n    this.lastFrame = time\n    this.resize()\n    this.draw(time)\n\n    if (this.options.touchInput) {\n      this.touchInput.pan.deltaX = 0\n      this.touchInput.pan.deltaY = 0\n      this.touchInput.pitch.scale = 0\n    }\n    if (this.options.desktopInput) {\n      this.mouseInput.deltaX = 0\n      this.mouseInput.deltaY = 0\n      if (this.mouseInput.drag) {\n        this.mouseInput.dragX = 0\n        this.mouseInput.dragY = 0\n      }\n      this.mouseInput.wheelDeltaY = 0\n    }\n    requestAnimationFrame(this.render.bind(this))\n  }\n\n  loadMesh(objString) {\n    let mesh = new Mesh(objString)\n    initMeshBuffers(this.gl, mesh)\n    return mesh\n  }\n\n  setMeshVAO(mesh, shader) {\n    let a_position = this.gl.getAttribLocation(shader.program, 'a_position')\n    let a_texCoord = this.gl.getAttribLocation(shader.program, 'a_texCoord')\n    let a_normal = this.gl.getAttribLocation(shader.program, 'a_normal')\n\n    let vao = this.gl.createVertexArray()\n    this.gl.bindVertexArray(vao)\n\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, mesh.vertexBuffer)\n    this.gl.vertexAttribPointer(a_position, 3, this.gl.FLOAT, false, 0, 0)\n    this.gl.enableVertexAttribArray(a_position)\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, mesh.textureBuffer)\n    this.gl.vertexAttribPointer(a_texCoord, 2, this.gl.FLOAT, false, 0, 0)\n    this.gl.enableVertexAttribArray(a_texCoord)\n    this.gl.bindBuffer(this.gl.ARRAY_BUFFER, mesh.normalBuffer)\n    this.gl.vertexAttribPointer(a_normal, 3, this.gl.FLOAT, false, 0, 0)\n    this.gl.enableVertexAttribArray(a_normal)\n\n    this.gl.bindVertexArray(null)\n\n    return vao\n  }\n\n  drawMesh(mesh, vao) {\n    this.gl.bindVertexArray(vao)\n    this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, mesh.indexBuffer)\n    this.gl.drawElements(this.gl.TRIANGLES, mesh.indexBuffer.numItems, this.gl.UNSIGNED_SHORT, 0)\n    this.gl.bindVertexArray(null)\n  }\n\n  async start() {\n    let textures = await this.loadTexture()\n    this.render(this.lastFrame)\n    this.textures = textures\n    this.started()\n  }\n\n  setImageResource(images) {\n    this.resource.images = images\n  }\n\n  async loadTexture() {\n    let textures = []\n    this.resourceCount += this.resource.images.length\n    let promises = this.resource.images.map((element, index) => {\n      return ArGL.loadImage(element, (ratio) => {\n        this.loadProgresses[index] = ratio\n      })\n    })\n\n    let loadedImgs = await Promise.all(promises)\n    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, true)\n    loadedImgs.forEach((element, index) => {\n      textures[index] = this.gl.createTexture()\n      this.gl.activeTexture(this.gl.TEXTURE0 + index)\n      this.gl.bindTexture(this.gl.TEXTURE_2D, textures[index])\n      this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, element)\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE)\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE)\n      this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR)\n    })\n\n    return textures\n\n  }\n\n}\nArGL.loadImage = loadImage\nInput(ArGL)\nFBHelper(ArGL)\n\nexport default ArGL\n","import { vec3, mat4, quat } from 'gl-matrix'\n\nclass Camera {\n  constructor(position = [0, 0, 0], orientation = [0, 0, 0, 1], zoom = 45) {\n    this.position = position\n    this.orientation = orientation\n    this.zoom = zoom\n    this.update()\n  }\n\n  getViewMatrix() {\n    this.update()\n    let view = mat4.create()\n    let center = [0, 0, 0]\n    vec3.add(center, this.position, this.front)\n    mat4.lookAt(view, this.position, center, this.up)\n    return view\n  }\n\n  translate(v) {\n    vec3.add(this.position, this.position, v)\n    // this.position += v * this.orientation\n  }\n\n  rotate(angle, axis) {\n    let t = quat.create()\n    quat.setAxisAngle(t, axis, angle)\n    quat.mul(this.orientation, this.orientation, t)\n    // this.orientation *= glm.angleAxis(angle, axis * this.orientation)\n    this.update()\n  }\n\n  yaw(angle) {\n    this.rotate(angle, this.up)\n  }\n  pitch(angle) {\n    this.rotate(angle, this.right)\n  }\n  roll(angle) {\n    this.rotate(angle, this.front)\n  }\n\n  update() {\n    let m = mat4.create()\n    mat4.fromQuat(m, this.orientation)\n    this.right = [-m[0], -m[4], -m[8]]\n    this.up = [m[1], m[5], m[9]]\n    this.front = [m[2], m[6], m[10]]\n  }\n\n  processZoom(yoffset) {\n    if (this.zoom >= 1.0 && this.zoom <= 45.0)\n      this.zoom -= yoffset / 200\n    if (this.zoom <= 1.0)\n      this.zoom = 1.0\n    if (this.zoom >= 45.0)\n      this.zoom = 45.0\n  }\n}\n\nexport default Camera\n","import Camera from './camera'\n\nimport { vec3 } from 'gl-matrix'\n\nconst CameraMovement = {\n  FORWARD: 0,\n  BACKWARD: 1,\n  LEFT: 2,\n  RIGHT: 3,\n  UP: 4,\n  DOWN: 5\n}\n\nclass FreeMoveCamera extends Camera {\n\n  processMove(direction, step) {\n    let dirvec = vec3.create()\n    if (direction == FreeMoveCamera.Movement.FORWARD) {\n      vec3.scale(dirvec, this.front, step)\n      this.translate(dirvec)\n    }\n    if (direction == FreeMoveCamera.Movement.BACKWARD) {\n      vec3.scale(dirvec, this.front, -step)\n      this.translate(dirvec)\n    }\n    if (direction == FreeMoveCamera.Movement.LEFT) {\n      vec3.scale(dirvec, this.right, -step)\n      this.translate(dirvec)\n    }\n    if (direction == FreeMoveCamera.Movement.RIGHT) {\n      vec3.scale(dirvec, this.right, step)\n      this.translate(dirvec)\n    }\n    if (direction == FreeMoveCamera.Movement.UP) {\n      vec3.scale(dirvec, this.up, step)\n      this.translate(dirvec)\n    }\n    if (direction == FreeMoveCamera.Movement.DOWN) {\n      vec3.scale(dirvec, this.up, -step)\n      this.translate(dirvec)\n    }\n  }\n\n\n  desktopFreeMoveControl(currentlyPressedKeys, step, mouseInput, mouseSensitivity, keys = ['w', 's', 'a', 'd', ' ', 'Shift', 'q', 'e']) {\n    if (currentlyPressedKeys.get(keys[0])) {\n      this.processMove(FreeMoveCamera.Movement.FORWARD, step)\n    }\n    if (currentlyPressedKeys.get(keys[1])) {\n      this.processMove(FreeMoveCamera.Movement.BACKWARD, step)\n    }\n    if (currentlyPressedKeys.get(keys[2])) {\n      this.processMove(FreeMoveCamera.Movement.LEFT, step)\n    }\n    if (currentlyPressedKeys.get(keys[3])) {\n      this.processMove(FreeMoveCamera.Movement.RIGHT, step)\n    }\n    if (currentlyPressedKeys.get(keys[4])) {\n      this.processMove(FreeMoveCamera.Movement.UP, step)\n    }\n    if (currentlyPressedKeys.get(keys[5])) {\n      this.processMove(FreeMoveCamera.Movement.DOWN, step)\n    }\n\n    let toRadian = degree => degree / 180 * Math.PI\n    if (currentlyPressedKeys.get(keys[6])) {\n      this.roll(toRadian(-step * 5))\n    }\n    if (currentlyPressedKeys.get(keys[7])) {\n      this.roll(toRadian(step * 5))\n    }\n\n    let radianX = toRadian(mouseInput.deltaX * mouseSensitivity)\n    let radianY = toRadian(mouseInput.deltaY * mouseSensitivity)\n\n\n    this.pitch(radianY)\n    this.rotate(radianX, [0, 1, 0])\n    this.processZoom(mouseInput.wheelDeltaY)\n  }\n\n}\nFreeMoveCamera.Movement = CameraMovement\n\nexport default FreeMoveCamera\n","import Camera from './camera';\nimport { vec3, quat } from 'gl-matrix'\n\nfunction rotateVec(vec, normal, angle) {\n  let direction = vec3.create()\n  let t1 = vec3.create()\n  let t2 = vec3.create()\n\n  vec3.normalize(normal, normal)\n\n  vec3.scale(t1, vec, Math.cos(angle))\n  vec3.cross(t2, normal, vec)\n  vec3.scale(t2, t2, Math.sin(angle))\n  vec3.add(direction, t1, t2)\n  vec3.normalize(direction, direction)\n  return direction\n}\n\nclass OrbitCamera extends Camera {\n  constructor(position = [0, 0, 5], center = [0, 0, 0], zoom = 45) {\n    let direction = vec3.create()\n    vec3.sub(direction, center, position)\n    vec3.normalize(direction, direction)\n\n    let dirX = [direction[0], 0, direction[2]]\n    let dirY = [0, direction[1], Math.sqrt(1 - direction[1] ** 2)]\n    let angleX = vec3.length(dirX) === 0 ? 0 : vec3.angle([0, 0, 1], dirX)\n    angleX = direction[0] > 0 ? -angleX : angleX\n    let angleY = vec3.length(dirY) === 0 ? 0 : vec3.angle([0, 0, 1], dirY)\n    angleY = direction[1] > 0 ? -angleY : angleY\n    let orientation = quat.create()\n\n    super(position, orientation, zoom)\n    this.yaw(angleX)\n    this.pitch(angleY)\n\n    this.center = center\n    this.distance = vec3.distance(center, position)\n\n  }\n\n  processRotate(radianX, radianY) {\n\n    let t1 = vec3.create()\n    vec3.scale(t1, this.front, -1)\n    t1 = rotateVec(t1, [0, 1, 0], -radianX)\n\n    let t2 = vec3.create()\n    vec3.cross(t2, this.up, t1)\n    t1 = rotateVec(t1, t2, -radianY)\n    vec3.scale(t1, t1, this.distance)\n    this.position = t1\n\n    this.rotate(radianX, [0, 1, 0])\n    this.pitch(radianY)\n\n  }\n\n  desktopOrbitControl(argl) {\n    if (argl.mouseInput.drag) {\n      let radianX = argl.mouseInput.dragX / argl.canvas.clientWidth * Math.PI * 2\n      let radianY = argl.mouseInput.dragY / argl.canvas.clientHeight * Math.PI * 2\n      this.processRotate(radianX, radianY)\n    }\n    this.processZoom(argl.mouseInput.wheelDeltaY)\n  }\n\n  mobileOrbitControl(argl) {\n    let radianX = argl.touchInput.pan.deltaX / argl.canvas.clientWidth * Math.PI * 2\n    let radianY = argl.touchInput.pan.deltaY / argl.canvas.clientHeight * Math.PI * 2\n    this.processRotate(radianX, radianY)\n    this.processZoom(argl.touchInput.pitch.scale*10000)\n  }\n\n}\n\nexport default OrbitCamera\n","import ArGL from './argl'\nimport Camera from './camera/camera'\nimport Shader from './shader'\nimport OrbitCamera from './camera/orbit-camera'\nimport FreeMoveCamera from './camera/free-move-camrea'\n\nimport * as util from './util'\n\nexport { ArGL, Camera, Shader, OrbitCamera, FreeMoveCamera, util }\nexport default ArGL\n","import * as Hammer from 'hammerjs'\n\nexport default function Input(Argl) {\n  Argl.desktopInput = function (el, options) {\n    let currentlyPressedKeys = new Map()\n    let mouseInput = {\n      deltaX: 0,\n      deltaY: 0,\n      wheelDeltaY: 0\n    }\n\n    function handleKeyDown(e) {\n      currentlyPressedKeys.set(e.key, true)\n    }\n    function handleKeyUp(e) {\n      currentlyPressedKeys.set(e.key, false)\n    }\n    function mouse_callback(e) {\n      mouseInput.deltaX = e.movementX || 0\n      mouseInput.deltaY = e.movementY || 0\n      if (mouseInput.drag) {\n        mouseInput.dragX = e.movementX || 0\n        mouseInput.dragY = e.movementY || 0\n      }\n    }\n    function wheel_callback(e) {\n      mouseInput.wheelDeltaY = e.wheelDeltaY\n    }\n    function handleDragStart() {\n      mouseInput.drag = true\n      mouseInput.dragX = 0\n      mouseInput.dragY = 0\n    }\n    function handleDragEnd() {\n      mouseInput.drag = false\n    }\n    function addInputListener() {\n      document.addEventListener('keydown', handleKeyDown)\n      document.addEventListener('keyup', handleKeyUp)\n      document.addEventListener('mousemove', mouse_callback)\n      document.addEventListener('mousedown', handleDragStart)\n      document.addEventListener('mouseup', handleDragEnd)\n      document.addEventListener('wheel', wheel_callback)\n    }\n    function removeInputListener() {\n      document.removeEventListener('keydown', handleKeyDown)\n      document.removeEventListener('keyup', handleKeyUp)\n      document.removeEventListener('mousemove', mouse_callback)\n      document.removeEventListener('mousedown', handleDragStart)\n      document.removeEventListener('mouseup', handleDragEnd)\n      document.removeEventListener('wheel', wheel_callback)\n    }\n\n    if (options.lockPointer) {\n      el.requestPointerLock = el.requestPointerLock ||\n        el.mozRequestPointerLock\n      el.exitPointerLock = el.exitPointerLock ||\n        el.mozExitPointerLock\n      el.onclick = function () {\n        el.requestPointerLock()\n      }\n      document.addEventListener('pointerlockchange', handleLockChange, false)\n      document.addEventListener('mozpointerlockchange', handleLockChange, false)\n      function handleLockChange() {\n        if (document.pointerLockElement === el ||\n          document.mozPointerLockElement === el) {\n          addInputListener()\n        } else {\n          removeInputListener()\n        }\n      }\n    } else {\n      el.contentEditable = 'true'\n      el.style.cursor = 'default'\n      el.addEventListener('focus', addInputListener)\n      el.addEventListener('blur', removeInputListener)\n    }\n\n    return { currentlyPressedKeys, mouseInput }\n  }\n\n  Argl.touchInput = function (el) {\n\n    let pan = {\n      lastX: 0,\n      lastY: 0,\n      deltaX: 0,\n      deltaY: 0\n    }\n    let pitch = {\n      scale: 0,\n      lastScale: 1\n    }\n    let hammer = new Hammer.Manager(el)\n    hammer.add(new Hammer.Pan({ direction: Hammer.DIRECTION_ALL, threshold: 10 }))\n    hammer.add(new Hammer.Pinch({ threshold: 0 }))\n\n    hammer.on('panstart', function (e) {\n      pan.lastX = 0\n      pan.lastY = 0\n      pan.deltaX = e.deltaX\n      pan.deltaY = e.deltaY\n    })\n    hammer.on('panmove', function (e) {\n      pan.deltaX = e.deltaX - pan.lastX\n      pan.deltaY = e.deltaY - pan.lastY\n      pan.lastX = e.deltaX\n      pan.lastY = e.deltaY\n    })\n\n    hammer.on('pinchstart', function () {\n      pitch.scale = 0\n      pitch.lastScale = 1\n    })\n    hammer.on('pinchmove', function (e) {\n      pitch.scale = e.scale / pitch.lastScale - 1\n      pitch.lastScale = e.scale\n    })\n\n    return { pan, pitch }\n  }\n\n}\n","\nexport default class Shader {\n  constructor(gl, vsSource, fsSource) {\n    let vertexShader = loadShader(gl, gl.VERTEX_SHADER, vsSource)\n    let fragmentShader = loadShader(gl, gl.FRAGMENT_SHADER, fsSource)\n\n    // \n    let shaderProgram = gl.createProgram()\n    gl.attachShader(shaderProgram, vertexShader)\n    gl.attachShader(shaderProgram, fragmentShader)\n    gl.linkProgram(shaderProgram)\n    gl.deleteShader(vertexShader)\n    gl.deleteShader(fragmentShader)\n    // \n    if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {\n      console.error('Unable to initialize the shader program: ' + gl.getProgramInfoLog(shaderProgram))\n      return null\n    }\n\n    this.gl = gl\n    this.program = shaderProgram\n  }\n\n  use() {\n    this.gl.useProgram(this.program)\n  }\n\n  setBool(name, value) {\n    this.gl.uniform1i(this.gl.getUniformLocation(this.program, name), Number(value))\n  }\n  setInt(name, value) {\n    this.gl.uniform1i(this.gl.getUniformLocation(this.program, name), Math.round(Number(value)))\n  }\n  setFloat(name, value) {\n    this.gl.uniform1f(this.gl.getUniformLocation(this.program, name), Number(value))\n  }\n  setVec2(name, vec2) {\n    this.gl.uniform2fv(this.gl.getUniformLocation(this.program, name), vec2)\n  }\n  setVec3(name, vec3) {\n    this.gl.uniform3fv(this.gl.getUniformLocation(this.program, name), vec3)\n  }\n  setVec4(name, vec4) {\n    this.gl.uniform4fv(this.gl.getUniformLocation(this.program, name), vec4)\n  }\n  setMat2(name, mat2) {\n    this.gl.uniformMatrix2fv(this.gl.getUniformLocation(this.program, name), false, mat2)\n  }\n  setMat3(name, mat3) {\n    this.gl.uniformMatrix3fv(this.gl.getUniformLocation(this.program, name), false, mat3)\n  }\n  setMat4(name, mat4) {\n    this.gl.uniformMatrix4fv(this.gl.getUniformLocation(this.program, name), false, mat4)\n  }\n\n}\n\nfunction loadShader(gl, type, source) {\n  const shader = gl.createShader(type)\n  gl.shaderSource(shader, source)\n  gl.compileShader(shader)\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    console.error('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader))\n    gl.deleteShader(shader)\n    return null\n  }\n  return shader\n}\n","\nexport function mobilecheck() {\n  let check = false;\n  (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true; })(navigator.userAgent || navigator.vendor || window.opera)\n  return check\n}\n\nexport function loadImage(imageUrl, onprogress) {\n  return new Promise((resolve, reject) => {\n    let xhr = new XMLHttpRequest()\n    let notifiedNotComputable = false\n\n    xhr.open('GET', imageUrl, true)\n    xhr.responseType = 'arraybuffer'\n\n    xhr.onprogress = function (ev) {\n      if (ev.lengthComputable) {\n        onprogress(Math.round((ev.loaded / ev.total) * 100))\n      } else {\n        if (!notifiedNotComputable) {\n          notifiedNotComputable = true\n          onprogress(-1)\n        }\n      }\n    }\n\n    xhr.onloadend = function () {\n      if (!xhr.status.toString().match(/^2/)) {\n        reject(xhr)\n      } else {\n        if (!notifiedNotComputable) {\n          onprogress(100)\n        }\n\n        let options = {}\n        let headers = xhr.getAllResponseHeaders()\n        let m = headers.match(/^Content-Type\\:\\s*(.*?)$/mi)\n\n        if (m && m[1]) {\n          options.type = m[1]\n        }\n\n        let blob = new Blob([this.response], options)\n        let imageUrl = window.URL.createObjectURL(blob)\n        let img = new Image()\n        img.src = imageUrl\n        img.onload = () => resolve(img)\n      }\n    }\n\n    xhr.send()\n  })\n}\n\n\nexport function loadBinary(uri, onprogress) {\n  return new Promise((resolve, reject) => {\n    let xhr = new XMLHttpRequest()\n    let notifiedNotComputable = false\n\n    xhr.open('GET', uri, true)\n    xhr.responseType = 'arraybuffer'\n\n    xhr.onprogress = function (ev) {\n      if (ev.lengthComputable) {\n        onprogress(Math.round((ev.loaded / ev.total) * 100))\n      } else {\n        if (!notifiedNotComputable) {\n          notifiedNotComputable = true\n          onprogress(-1)\n        }\n      }\n    }\n\n    xhr.onloadend = function () {\n      if (!xhr.status.toString().match(/^2/)) {\n        reject(xhr)\n      } else {\n        if (!notifiedNotComputable) {\n          onprogress(100)\n        }\n        resolve(this.response)\n      }\n    }\n    xhr.send()\n  })\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_gl_matrix__;","module.exports = __WEBPACK_EXTERNAL_MODULE_hammerjs__;"],"sourceRoot":""}